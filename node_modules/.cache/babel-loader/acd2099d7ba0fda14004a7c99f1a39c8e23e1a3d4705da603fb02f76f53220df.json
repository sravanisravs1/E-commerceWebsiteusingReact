{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Ecommerce\\\\src\\\\store\\\\CartProvider.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useReducer } from \"react\";\nimport CartContext from './cart-context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultState = {\n  products: [],\n  totalAmount: 0\n};\nconst cartReducer = (state, action) => {\n  if (action.type === \"ADD\") {\n    const updatedAmount = state.totalAmount + action.value.price * action.value.quantity;\n    const existsItemIndex = state.products.findIndex(index => index.id === action.value.id);\n    const existsItem = state.products[existsItemIndex];\n    let update = state.products.concat(action.value);\n    if (existsItem) {\n      alert(\"item alreadry exisits\");\n      return {\n        products: state.products,\n        totalAmount: state.totalAmount\n      };\n    }\n    return {\n      products: update,\n      totalAmount: updatedAmount\n    };\n  } else if (action.type === \"REMOVE\") {\n    const updatedAmount = state.totalAmount - action.value.price * action.value.quantity;\n    const updatedProducts = state.products.filter(product => product.id !== action.value.id);\n    return {\n      products: updatedProducts,\n      totalAmount: updatedAmount\n    };\n  }\n  return defaultState;\n};\nconst CartProvider = props => {\n  _s();\n  const [state, dispatchFN] = useReducer(cartReducer, defaultState);\n  const addProductHandler = product => {\n    dispatchFN({\n      type: \"ADD\",\n      value: product\n    });\n  };\n  const removeProductHandler = product => {\n    dispatchFN({\n      type: \"REMOVE\",\n      value: product\n    });\n  };\n  const Cart = {\n    products: state.products,\n    totalAmount: state.totalAmount,\n    addItem: addProductHandler,\n    removeItem: removeProductHandler\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: Cart,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 12\n  }, this);\n};\n_s(CartProvider, \"TMW8LBEr+RmhVpxOKwrN1oyiUxI=\");\n_c = CartProvider;\nexport default CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","useState","useReducer","CartContext","defaultState","products","totalAmount","cartReducer","state","action","type","updatedAmount","value","price","quantity","existsItemIndex","findIndex","index","id","existsItem","update","concat","alert","updatedProducts","filter","product","CartProvider","props","dispatchFN","addProductHandler","removeProductHandler","Cart","addItem","removeItem","children"],"sources":["C:/Users/Admin/Desktop/Ecommerce/src/store/CartProvider.js"],"sourcesContent":["import React, { useState,useReducer } from \"react\";\r\n\r\nimport CartContext from './cart-context'\r\n\r\nconst defaultState = {\r\n    products: [],\r\n    totalAmount: 0\r\n}\r\n\r\nconst cartReducer = (state, action) => {\r\n    if (action.type === \"ADD\") {\r\n        const updatedAmount = state.totalAmount + action.value.price * action.value.quantity;\r\n\r\n\r\n        const existsItemIndex = state.products.findIndex((index) => index.id === action.value.id)\r\n        const existsItem = state.products[existsItemIndex]\r\n\r\n\r\n\r\n        let update = state.products.concat(action.value)\r\n        if (existsItem) {\r\n            alert(\"item alreadry exisits\")\r\n            return {\r\n                products:state.products,\r\n                totalAmount:state.totalAmount\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        return {\r\n            products: update,\r\n            totalAmount: updatedAmount\r\n        }\r\n    }else if (action.type === \"REMOVE\"){\r\n        const updatedAmount = state.totalAmount - action.value.price * action.value.quantity;\r\n      const updatedProducts = state.products.filter(product => product.id !== action.value.id)\r\n\r\n      return {\r\n                   products: updatedProducts,\r\n                    totalAmount: updatedAmount\r\n               }\r\n    }\r\n\r\n    \r\n    return defaultState\r\n}\r\n\r\n\r\nconst CartProvider = (props) => {\r\n    const [state, dispatchFN] = useReducer(cartReducer, defaultState)\r\n\r\n\r\n    const addProductHandler = (product) => {\r\n        dispatchFN({\r\n            type: \"ADD\",\r\n            value: product\r\n\r\n        })\r\n    }\r\n\r\n    \r\n\r\n    const removeProductHandler = (product) => { \r\n        dispatchFN({\r\n            type:\"REMOVE\",\r\n            value:product\r\n        })\r\n    }\r\n\r\n\r\n    const Cart = {\r\n        products: state.products,\r\n        totalAmount: state.totalAmount,\r\n        addItem: addProductHandler,\r\n        removeItem: removeProductHandler\r\n\r\n\r\n    }\r\n    return <CartContext.Provider value={Cart}>{props.children}</CartContext.Provider>\r\n}\r\n\r\nexport default CartProvider;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAACC,UAAU,QAAQ,OAAO;AAElD,OAAOC,WAAW,MAAM,gBAAgB;AAAA;AAExC,MAAMC,YAAY,GAAG;EACjBC,QAAQ,EAAE,EAAE;EACZC,WAAW,EAAE;AACjB,CAAC;AAED,MAAMC,WAAW,GAAG,CAACC,KAAK,EAAEC,MAAM,KAAK;EACnC,IAAIA,MAAM,CAACC,IAAI,KAAK,KAAK,EAAE;IACvB,MAAMC,aAAa,GAAGH,KAAK,CAACF,WAAW,GAAGG,MAAM,CAACG,KAAK,CAACC,KAAK,GAAGJ,MAAM,CAACG,KAAK,CAACE,QAAQ;IAGpF,MAAMC,eAAe,GAAGP,KAAK,CAACH,QAAQ,CAACW,SAAS,CAAEC,KAAK,IAAKA,KAAK,CAACC,EAAE,KAAKT,MAAM,CAACG,KAAK,CAACM,EAAE,CAAC;IACzF,MAAMC,UAAU,GAAGX,KAAK,CAACH,QAAQ,CAACU,eAAe,CAAC;IAIlD,IAAIK,MAAM,GAAGZ,KAAK,CAACH,QAAQ,CAACgB,MAAM,CAACZ,MAAM,CAACG,KAAK,CAAC;IAChD,IAAIO,UAAU,EAAE;MACZG,KAAK,CAAC,uBAAuB,CAAC;MAC9B,OAAO;QACHjB,QAAQ,EAACG,KAAK,CAACH,QAAQ;QACvBC,WAAW,EAACE,KAAK,CAACF;MACtB,CAAC;IAEL;IAMA,OAAO;MACHD,QAAQ,EAAEe,MAAM;MAChBd,WAAW,EAAEK;IACjB,CAAC;EACL,CAAC,MAAK,IAAIF,MAAM,CAACC,IAAI,KAAK,QAAQ,EAAC;IAC/B,MAAMC,aAAa,GAAGH,KAAK,CAACF,WAAW,GAAGG,MAAM,CAACG,KAAK,CAACC,KAAK,GAAGJ,MAAM,CAACG,KAAK,CAACE,QAAQ;IACtF,MAAMS,eAAe,GAAGf,KAAK,CAACH,QAAQ,CAACmB,MAAM,CAACC,OAAO,IAAIA,OAAO,CAACP,EAAE,KAAKT,MAAM,CAACG,KAAK,CAACM,EAAE,CAAC;IAExF,OAAO;MACMb,QAAQ,EAAEkB,eAAe;MACxBjB,WAAW,EAAEK;IAClB,CAAC;EACZ;EAGA,OAAOP,YAAY;AACvB,CAAC;AAGD,MAAMsB,YAAY,GAAIC,KAAK,IAAK;EAAA;EAC5B,MAAM,CAACnB,KAAK,EAAEoB,UAAU,CAAC,GAAG1B,UAAU,CAACK,WAAW,EAAEH,YAAY,CAAC;EAGjE,MAAMyB,iBAAiB,GAAIJ,OAAO,IAAK;IACnCG,UAAU,CAAC;MACPlB,IAAI,EAAE,KAAK;MACXE,KAAK,EAAEa;IAEX,CAAC,CAAC;EACN,CAAC;EAID,MAAMK,oBAAoB,GAAIL,OAAO,IAAK;IACtCG,UAAU,CAAC;MACPlB,IAAI,EAAC,QAAQ;MACbE,KAAK,EAACa;IACV,CAAC,CAAC;EACN,CAAC;EAGD,MAAMM,IAAI,GAAG;IACT1B,QAAQ,EAAEG,KAAK,CAACH,QAAQ;IACxBC,WAAW,EAAEE,KAAK,CAACF,WAAW;IAC9B0B,OAAO,EAAEH,iBAAiB;IAC1BI,UAAU,EAAEH;EAGhB,CAAC;EACD,oBAAO,QAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAEC,IAAK;IAAA,UAAEJ,KAAK,CAACO;EAAQ;IAAA;IAAA;IAAA;EAAA,QAAwB;AACrF,CAAC;AAAA,GA/BKR,YAAY;AAAA,KAAZA,YAAY;AAiClB,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}